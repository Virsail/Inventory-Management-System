{% extends 'base.html' %}
{%block navlinks%}
<li class="nav-item">
  <a class="nav-link" href="{{url_for('clerk.index')}}">
    <i class="fas fa-columns"></i>
    Inventory 
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="{{url_for('clerk.update_sales')}}">
    <i class="fas fa-columns"></i>
    Update Sales 
  </a>
</li>
<li class="nav-item">
  <a class="nav-link active" href="{{url_for('clerk.products')}}">
    <i class="fas fa-columns"></i>
    Update products <span class="sr-only">(current)</span>
  </a>
</li>

{%endblock%}
{%block content%}
<div class="card-header card-header-primary text-center mt-3">
  <h4 class="card-title">Products in Store</h4>
</div>
{%if products%}
<table class="table table-striped table-responsive-md btn-table">

  <thead>
    <tr>
      <th>#</th>
      <th>Product Name</th>
      <th>Stock available</th>
      <th>Items spoilt</th>
      <th>Buying Price</th>
      <th>Selling Price</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    {%for product in products%}
      <tr>
        <th scope="row">{{loop.index}}</th>
        
        <td>{{product.product_name}}</td>
        <td>{{product.product_stock}}</td>
        <td>{{product.product_spoilt}}</td>
        <td>{{product.product_buying_price}}</td>
        <td>{{product.product_selling_price}}</td>
        <td>
        <a href="{{url_for('clerk.update_product',product_name=product.product_name)}}"><button type="button" class="btn btn-teal btn-rounded btn-sm m-0">Update</button></a> 
        </td>
      </tr>
    {%endfor%}  
  </tbody>

</table>
{%else%}
<div class="container text-center">
  <div style="margin-top: 100px" class="alert alert-danger" role="alert">
    <h4 class="alert-heading"><i class="far fa-surprise fa-lg"></i> Oops, you have no product in your store.</h4>
    <a href="{{url_for('clerk.index')}}"> <button type="submit" class="btn btn-primary pull-right text-center">Add Inventory</button></a>
    <hr>
  </div>
</div>
{%endif%}
{%endblock%}